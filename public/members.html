<!DOCTYPE html>
<html lang="en">
<head>
  <script src="/js/auth-guard.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Library Dashboard - Members</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <h2><img src="image/logo.png" alt="Library"></h2>
      <a href="/"><i class="fa fa-tachometer-alt"></i> Dashboard</a>
      <a href="/books"><i class="fa fa-book"></i> Books</a>
      <a href="/members" class="active"><i class="fa fa-user-graduate"></i> Members</a>
      <a href="/issued"><i class="fa fa-book-reader"></i> Issued Books</a>
      <a href="/settings"><i class="fa fa-cog"></i> Settings</a>
      <a href="#" onclick="logout()"><i class="fa fa-sign-out-alt"></i> Logout</a>
    </div>

    <div class="main">
      <div class="mobile-header">
        <button id="menu-btn" class="menu-btn"><i class="fa fa-bars"></i></button>
        <h3 style="margin:0;">Manage Books</h3>
      </div>
      <div class="welcome">Members Management</div>
      <div class="toolbar"><button class="btn"><i class="fa fa-user-plus"></i> Add New Member</button></div>

      <div class="section-title"><i class="fa fa-chalkboard-teacher" style="color: #007bff;"></i> Faculty Members</div>
      <div class="member-table-container">
        <table class="member-table">
          <thead>
            <tr><th>ID</th><th>Name</th><th>Department</th><th>Email</th><th>Actions</th></tr>
          </thead>
          <tbody id="faculty-list"></tbody> </table>
      </div>

      <div class="section-title"><i class="fa fa-user-graduate" style="color: #28a745;"></i> Student Members</div>
      <div class="member-table-container">
        <table class="member-table">
          <thead>
            <tr><th>ID</th><th>Name</th><th>Course/Year</th><th>Email</th><th>Actions</th></tr>
          </thead>
          <tbody id="student-list"></tbody> </table>
      </div>
    </div>
  </div>
  <div id="addMemberModal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); padding-top: 50px;">
  <div class="modal-content" style="background-color: #fff; margin: 0 auto; border-radius: 10px; width: 90%; max-width: 500px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); animation: animatetop 0.4s;">
    
    <div class="modal-header" style="padding: 15px 25px; background-color: #f7f8fc; border-bottom: 1px solid #f0f0f0; border-top-left-radius: 10px; border-top-right-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
      <h4 style="margin: 0; font-size: 18px;">Add New Member</h4>
      <span class="close-btn" style="cursor: pointer; font-size: 24px;">&times;</span>
    </div>

    <div class="modal-body" style="padding: 25px;">
      <form id="addMemberForm">
        
        <div class="form-group" style="margin-bottom: 15px; display: flex; flex-direction: column;">
          <label style="font-weight: 500; margin-bottom: 5px;">Member Type</label>
          <select id="memberType" style="padding: 10px; border-radius: 8px; border: 1px solid #ddd;" required>
            <option value="faculty">Faculty Member</option>
            <option value="student">Student Member</option>
          </select>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group" style="margin-bottom: 15px; display: flex; flex-direction: column;">
            <label style="font-weight: 500; margin-bottom: 5px;">Member ID</label>
            <input type="text" id="member_id" placeholder="e.g. F001" required style="padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
          </div>
          <div class="form-group" style="margin-bottom: 15px; display: flex; flex-direction: column;">
            <label style="font-weight: 500; margin-bottom: 5px;">Full Name</label>
            <input type="text" id="name" placeholder="John Doe" required style="padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
          </div>
        </div>

        <div class="form-group" style="margin-bottom: 15px; display: flex; flex-direction: column;">
          <label id="dynamicLabel" style="font-weight: 500; margin-bottom: 5px;">Department</label>
          <input type="text" id="dynamicInput" placeholder="e.g. Computer Science" required style="padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
        </div>

        <div class="form-group" style="margin-bottom: 15px; display: flex; flex-direction: column;">
          <label style="font-weight: 500; margin-bottom: 5px;">Email Address</label>
          <input type="email" id="email" placeholder="example@college.edu" required style="padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
        </div>

        <div class="modal-footer" style="display: flex; justify-content: flex-end; gap: 10px; padding-top: 15px; border-top: 1px solid #f0f0f0;">
          <button type="button" id="cancelBtn" style="background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer;">Cancel</button>
          <button type="submit" style="background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer;">Save Member</button>
        </div>
      </form>
    </div>

  </div>
</div>
<div id="deleteMemberModal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); padding-top: 50px;">
  <div class="modal-content" style="background-color: #fff; margin: 0 auto; border-radius: 10px; width: 90%; max-width: 400px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); animation: animatetop 0.4s;">
    
    <div class="modal-header" style="padding: 15px 25px; background-color: #f7f8fc; border-bottom: 1px solid #f0f0f0; border-top-left-radius: 10px; border-top-right-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
      <h4 style="margin: 0; font-size: 18px; color: #dc3545;">Confirm Delete</h4>
      <span class="close-delete-btn" style="cursor: pointer; font-size: 24px;">&times;</span>
    </div>

    <div class="modal-body" style="padding: 25px; text-align: center;">
      <p style="font-size: 16px; color: #555; margin-bottom: 20px;">
        Are you sure you want to delete this member? <br>
        <b>This action cannot be undone.</b>
      </p>
      <div style="display: flex; justify-content: center; gap: 15px;">
        <button id="cancelDeleteBtn" style="background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; font-size: 15px;">Cancel</button>
        <button id="confirmDeleteBtn" style="background: #dc3545; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; font-size: 15px;">Yes, Delete</button>
      </div>
    </div>

  </div>
</div>
  <script src="/js/app.js"></script>
  <script src="/js/members.js"></script>
</body>
</html>